<ng-include src="'/static/app/nav_bar.html'"></ng-include>

<div class="hidden-xs col-sm-4 col-md-3 page-left">
    <div class="panel panel-default">
        <div class="panel-heading">
            <h4 class="panel-title">
                {{ user.fullname }}
            </h4>
        </div>
        <div class="panel-body">
            이번 주에 읽은 책은 10권입니다. <br>
            목표한 100권까지는 이제 10권 남았습니다. <br>
            친구들은 10명이 책을 읽었네요. <br>

        </div>
    </div>

    <div class="panel panel-default">
        <div class="panel-heading">
            <h4 class="panel-title">
                메뉴
            </h4>
        </div>
        <div class="list-group">
            <a href="#/note/new/" class="list-group-item">책 추천</a>
        </div>
    </div>
</div>

<div class="col-xs-15 col-sm-11 col-md-12 page-right">
    <div class="col-xs-15">
         <div class="list-title">
            <div class="row">
                <h4 class="col-xs-10 col-sm-10">책 추천 목록</h4>
                <div class="pull-right page-menu-button dropdown hidden-sm hidden-md hidden-lg">
                    <a class="dropdown-toggle" data-toggle="dropdown" aria-expanded="true" href=""><span
                            class="glyphicon glyphicon-menu-hamburger"></span></a>
                   <ul class="dropdown-menu dropdown-menu-right" role="menu" aria-labelledby="dropdownMenu1">
                        <li role="presentation"><a role="menuitem" tabindex="-1" href="#/note/new">책 추천</a></li>
                    </ul>
                </div>
                <div class="clearfix"></div>
            </div>

            <div class="ng-hide alert alert-info" ng-show="noData">
                <span class="glyphicon glyphicon-alert"></span> 추천할 책이 없습니다.
            </div>
        </div>
    </div>
    <div class="list-item media col-xs-offset-7 col-xs-1" ng-show="loading">
        <img src="/static/app/images/loading.gif" width="50px" height="50px">
    </div>
    <div class="list-item media col-xs-15" ng-repeat="book in books | filter:book_title" repeat_done="iteration_done()"
         ng-show="!loading">
        <div class="media-left">
            <a href="#/note/{{ note.id }}">
                <img class="media-object" ng-src="{{ book.photo }}" alt="{{ book.title }}">
            </a>
        </div>
        <div class="media-body">
            <h4 class="media-heading"><a href="#/book/{{ note.id }}">{{ book.title }}</a></h4>

            <div class='panel-detail'>
                <span>저자: {{ book.author }}</span> |
                <span>출판사: {{ book.publisher }}</span> |
                <span>ISBN: {{ book.isbn }}</span> |
                <span>출판일: {{ book.pub_date | date:"yyyy/MM/dd" }}</span>
            </div>
            <p class="panel-content">{{ book.description | truncate: 256 }}</p>

            <div class="panel-action">
                <div ng-show="note.user.id != user.id">
                    <a href="#/note/{{ note.id }}">나도 읽었어요</a> |
                    <a href="#/note/{{ note.id }}">나도 읽고싶어요</a>
                </div>
                <div ng-show="note.user.id == user.id">
                    <a href="" ng-click="edit_note(note)">수정</a> |
                    <a href="" ng-click="delete_note(note, $index)">삭제</a>
                </div>
            </div>
        </div>
    </div>
</div>
